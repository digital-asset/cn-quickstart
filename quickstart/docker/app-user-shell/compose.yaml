# Copyright (c) 2024, Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved.
# SPDX-License-Identifier: Apache-2.0

---
networks:
  quickstart:
    external: true
    name: ${DOCKER_NETWORK}

services:
  create-app-install-request:
    build: .
    container_name: create-app-install-request
    volumes:
      - ./scripts/start.sh:/app/start.sh
      - ./scripts/create-app-install-request-${AUTH_MODE}.sh:/app/create-app-install-request.sh
      - ./../utils.sh:/app/utils.sh
    env_file:
      - ./../../${LOCALNET_ENV_DIR}/common.env
      - path: ./../../${LOCALNET_ENV_DIR}/app-provider-${AUTH_MODE}.env
        required: false
      - path: ./../../${MODULES_DIR}/keycloak/env/app-provider-${AUTH_MODE}.env
        required: false
      - path: ./../../${LOCALNET_ENV_DIR}/app-user-${AUTH_MODE}.env
        required: false
      - path: ./../../${MODULES_DIR}/keycloak/env/app-user-${AUTH_MODE}.env
        required: false
    command: /app/start.sh
    networks:
      - ${DOCKER_NETWORK}