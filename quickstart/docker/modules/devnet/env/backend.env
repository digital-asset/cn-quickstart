# Backend Service Configuration for DevNet
# Connects to splice-node validator and local PQS

# Backend port
BACKEND_PORT=8089

# splice-node validator registry endpoint
REGISTRY_BASE_URI=http://host.docker.internal:5012

# splice-node participant ledger API
LEDGER_HOST=host.docker.internal
LEDGER_PORT=8080

# Local PQS postgres database
POSTGRES_HOST=postgres-pqs
POSTGRES_PORT=5432
POSTGRES_DATABASE=pqs-app-provider
POSTGRES_USERNAME=cnadmin
POSTGRES_PASSWORD=supersafe

# OAuth2 authentication mode
SPRING_PROFILES_ACTIVE=OAuth2

# Test mode disabled for DevNet
TEST_MODE=false

# OAuth2 Configuration
OAUTH2_ISSUER_URI=http://keycloak.localhost:8082/realms/AppProvider
OAUTH2_INTERNAL_ISSUER_URI=http://host.docker.internal:8082/realms/AppProvider
OAUTH2_CLIENT_ID=app-provider-backend
OAUTH2_CLIENT_SECRET=AL8648b9SfdTFImq7FV56Vd0KHifHBuC
OAUTH2_SCOPE=daml_ledger_api
OAUTH2_AUDIENCE=https://canton.network.global

# OpenTelemetry (disabled by default)
OTEL_TRACES_EXPORTER=none
OTEL_LOGS_EXPORTER=none
OTEL_METRICS_EXPORTER=none
JAVA_OPTS=-javaagent:/otel-agent.jar -Dotel.instrumentation.logback-appender.experimental-log-attributes=true -Dotel.instrumentation.logback-appender.experimental.capture-key-value-pair-attributes=true
